#!/bin/sh

DIR='./'
if (($# > 2)); then
    DIR=$1
    shift
elif (($# < 2)); then
    echo USAGE: $0 "[dir] <file_pattern> <class_name>"
    exit 1
fi
FILE=$1
CLASS=$2

GREP_RE="\(class\|struct\)[[:space:]]\+$CLASS[[:space:]]*[{:]" 
#echo $GREP_RE
echo "find $DIR -name $FILE -print |xargs grep $GREP_RE -n --color |sed 's/:/ +/'"
find $DIR -name $FILE -print |xargs grep $GREP_RE -n --color |sed 's/:/ +/'
